from MTCFeatures.MTCFeatureLoader import MTCFeatureLoader

nlbids = [
    'NLB179932_01',
    'NLB175861_01',
    'NLB175902_01',
    'NLB142256_01',
    'NLB179920_01',
    'NLB175873_01',
    'NLB175938_01',
    'NLB179916_01',
    'NLB175945_01',
    'NLB175826_01',
    'NLB175926_01',
    'NLB004881_01',
    'NLB004794_01',
    'NLB175934_01',
    'NLB175834_01',
    'NLB179867_01',
    'NLB004786_01',
    'NLB175849_01',
    'NLB004844_01',
    'NLB004839_01',
    'NLB175795_01',
    'NLB004827_01',
    'NLB004856_01',
    'NLB004848_01',
    'NLB004835_01',
    'NLB004860_01',
    'NLB004872_01',
    'NLB190125_01',
    'NLB004779_01',
    'NLB004911_01',
    'NLB004811_01',
    'NLB004837_01',
    'NLB004854_01',
    'NLB140072_02',
    'NLB004829_01',
    'NLB175797_01',
    'NLB004858_01',
    'NLB004825_01',
    'NLB004846_01',
    'NLB123127_01',
    'NLB004913_01',
    'NLB004813_01',
    'NLB004870_01',
    'NLB004901_01',
    'NLB004862_01',
    'NLB004777_01',
    'NLB130097_01',
    'NLB179922_01',
    'NLB004854_02',
    'NLB175871_01',
    'NLB179930_01',
    'NLB175863_01',
    'NLB175936_01',
    'NLB179918_01',
    'NLB004784_01',
    'NLB004891_01',
    'NLB175928_01',
    'NLB175924_01',
    'NLB004796_01',
    'NLB179914_01',
    'NLB179869_01',
    'NLB004788_01',
    'NLB004805_01',
    'NLB004905_01',
    'NLB150179_02',
    'NLB004878_01',
    'NLB004866_01',
    'NLB004917_01',
    'NLB004817_01',
    'NLB004909_01',
    'NLB004809_01',
    'NLB004874_01',
    'NLB004821_01',
    'NLB004842_01',
    'NLB004833_01',
    'NLB175894_01',
    'NLB004850_01',
    'NLB004887_01',
    'NLB004899_01',
    'NLB179910_01',
    'NLB004780_01',
    'NLB179861_01',
    'NLB004895_01',
    'NLB175932_01',
    'NLB175832_01',
    'NLB175804_01',
    'NLB141973_02',
    'NLB179934_01',
    'NLB134872_02',
    'NLB175875_01',
    'NLB179926_01',
    'NLB004850_02',
    'NLB175853_01',
    'NLB179863_01',
    'NLB004897_01',
    'NLB004782_01',
    'NLB175930_01',
    'NLB175830_01',
    'NLB175941_01',
    'NLB009297_01',
    'NLB179912_01',
    'NLB004885_01',
    'NLB004790_01',
    'NLB175922_01',
    'NLB175877_01',
    'NLB179924_01',
    'NLB004852_02',
    'NLB179936_01',
    'NLB179928_01',
    'NLB004876_01',
    'NLB004915_01',
    'NLB004815_01',
    'NLB004819_01',
    'NLB004864_01',
    'NLB179890_01',
    'NLB004907_01',
    'NLB004852_01',
    'NLB004831_01',
    'NLB175896_01',
    'NLB004840_01',
    'NLB004902_01',
    'NLB004861_01',
    'NLB004810_01',
    'NLB004910_01',
    'NLB004873_01',
    'NLB179887_01',
    'NLB004826_01',
    'NLB004838_01',
    'NLB004834_01',
    'NLB004849_01',
    'NLB004857_01',
    'NLB004880_01',
    'NLB179909_01',
    'NLB175944_01',
    'NLB175939_01',
    'NLB179917_01',
    'NLB004892_01',
    'NLB075947_02',
    'NLB175848_01',
    'NLB004787_01',
    'NLB175935_01',
    'NLB175856_01',
    'NLB004799_01',
    'NLB142453_01',
    'NLB142633_02',
    'NLB175803_01',
    'NLB179933_01',
    'NLB175872_01',
    'NLB179921_01',
    'NLB175854_01',
    'NLB179907_01',
    'NLB175829_01',
    'NLB004785_01',
    'NLB004890_01',
    'NLB175937_01',
    'NLB179919_01',
    'NLB179868_01',
    'NLB004789_01',
    'NLB175846_01',
    'NLB179915_01',
    'NLB004797_01',
    'NLB175858_01',
    'NLB004882_01',
    'NLB175925_01',
    'NLB175825_01',
    'NLB175870_01',
    'NLB179923_01',
    'NLB004871_01',
    'NLB179885_01',
    'NLB004812_01',
    'NLB004912_01',
    'NLB004863_01',
    'NLB004776_01',
    'NLB004900_01',
    'NLB179889_01',
    'NLB004828_01',
    'NLB004855_01',
    'NLB004836_01',
    'NLB004847_01',
    'NLB004824_01',
    'NLB179935_01',
    'NLB175866_01',
    'NLB175905_01',
    'NLB114131_01',
    'NLB175878_01',
    'NLB004851_02',
    'NLB175874_01',
    'NLB175942_01',
    'NLB004793_01',
    'NLB175933_01',
    'NLB004781_01',
    'NLB004894_01',
    'NLB179860_01',
    'NLB175899_01',
    'NLB004843_01',
    'NLB004820_01',
    'NLB004851_01',
    'NLB123757_01',
    'NLB133670_01',
    'NLB004832_01',
    'NLB004879_01',
    'NLB004904_01',
    'NLB004804_01',
    'NLB004875_01',
    'NLB126963_02',
    'NLB004816_01',
    'NLB004916_01',
    'NLB175897_01',
    'NLB004830_01',
    'NLB004853_01',
    'NLB004822_01',
    'NLB004841_01',
    'NLB004869_01',
    'NLB004814_01',
    'NLB004914_01',
    'NLB004877_01',
    'NLB004906_01',
    'NLB004806_01',
    'NLB004865_01',
    'NLB004818_01',
    'NLB004853_02',
    'NLB179925_01',
    'NLB175876_01',
    'NLB179929_01',
    'NLB179937_01',
    'NLB141970_02',
    'NLB175931_01',
    'NLB004783_01',
    'NLB175852_01',
    'NLB004888_01',
    'NLB175923_01',
    'NLB179870_01',
    'NLB004884_01',
    'NLB179913_01'
]

fl = MTCFeatureLoader('mtcfsinst_sequences_merged.jsonl.gz')

def removeFeats(featloader):
    for seq in featloader.sequences():
        if seq['id'] in nlbids:
            try:
                del seq['features']['lyrics']
                del seq['features']['noncontentword']
                del seq['features']['melismastate']
                del seq['features']['wordend']
                del seq['features']['wordstress']
                del seq['features']['phoneme']
                del seq['features']['rhymes']
                del seq['features']['rhymescontentwords']
            except KeyError:
                pass
        yield seq

fl.writeJSON('mtcfsinst_sequences_merged_notext.jsonl.gz', removeFeats(fl))

